@()(implicit request: play.mvc.Http.Request)
@main("NotiLytics") {
  <section class="nl-hero card shadow-sm border-0 mb-4">
    <div class="card-body p-4 p-md-5">
      <h2 class="h3 mb-2">Discover the latest headlines</h2>
      <p class="text-muted mb-4">
        Search global news articles by keyword and keep up with the stories that matter to you.
      </p>

      <form id="search-form" method="GET" action="/search" class="search-form">
        <div class="row g-3 align-items-end mb-3">
          <div class="col-12 col-xl-5">
            <label for="q" class="form-label small text-muted">Keywords</label>
            <input id="q" name="q" type="text" class="form-control form-control-lg"
              placeholder="Enter keywords..." aria-label="Search keywords">
          </div>

          <div class="col-12 col-xl-5">
            <div class="d-flex justify-content-between align-items-center mb-1">
              <label for="sources" class="form-label small mb-0">News Sources</label>
              <button type="button" id="clear-sources-btn" class="btn btn-sm btn-outline-secondary">Clear Sources</button>
            </div>
            <select id="sources" name="sources" multiple size="6" class="form-select" aria-label="Choose news sources"></select>
          </div>

          <div class="col-12 col-xl-2 d-grid">
            <label class="form-label small text-muted">&nbsp;</label>
            <button id="search-btn" type="submit" class="btn btn-primary btn-lg w-100 h-100">Search</button>
          </div>
        </div>

        <div class="row g-3">
          <div class="col-12 col-md-6 col-xl-3">
            <label for="country" class="form-label small text-muted mb-1">Country</label>
            <select id="country" name="country" class="form-select" aria-label="Filter by country">
              <option value="">All Countries</option>
              <option value="us">United States</option>
              <option value="ca">Canada</option>
              <option value="gb">United Kingdom</option>
              <option value="fr">France</option>
              <option value="de">Germany</option>
              <option value="es">Spain</option>
              <option value="sa">Saudi Arabia</option>
            </select>
          </div>

          <div class="col-12 col-md-6 col-xl-3">
            <label for="category" class="form-label small text-muted mb-1">Category</label>
            <select id="category" name="category" class="form-select" aria-label="Filter by category">
              <option value="">All Categories</option>
              <option value="business">Business</option>
              <option value="entertainment">Entertainment</option>
              <option value="general">General</option>
              <option value="health">Health</option>
              <option value="science">Science</option>
              <option value="sports">Sports</option>
              <option value="technology">Technology</option>
            </select>
          </div>

          <div class="col-12 col-md-6 col-xl-3">
            <label for="language" class="form-label small text-muted mb-1">Language</label>
            <select id="language" name="language" class="form-select" aria-label="Filter by language">
              <option value="">All Languages</option>
              <option value="en">English</option>
              <option value="fr">French</option>
              <option value="ar">Arabic</option>
              <option value="de">German</option>
              <option value="es">Spanish</option>
            </select>
          </div>

          <div class="col-12 col-md-6 col-xl-3">
            <label for="sortBy" class="form-label small text-muted mb-1">Sort By</label>
            <select id="sortBy" name="sortBy" class="form-select" aria-label="Sort results">
              <option value="relevancy">Relevancy</option>
              <option value="popularity">Popularity</option>
              <option value="publishedAt">Published Date</option>
            </select>
          </div>
        </div>
      </form>
    </div>
  </section>

  <div class="container-fluid px-0">
    <div class="d-flex justify-content-between align-items-center mb-3">
      <h3 class="h5 mb-0">Search Results</h3>
      <button id="clear-results-btn" class="btn btn-sm btn-outline-danger" style="display: none;">Clear All Results</button>
    </div>

    <div id="overall-sentiment" class="mb-3" aria-live="polite"></div>

    <div id="results" aria-live="polite" aria-busy="false"></div>
  </div>
}
